
# 小马加编信息学教案(二十四) 
# 模拟

---

<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

* [一. 课程内容](#一-课程内容)
* [二. 知识讲解](#二-知识讲解)
	* [1. 1 模拟介绍](#1-1-模拟介绍)
* [三. 经典例题](#三-经典例题)
* [四. 提高巩固](#四-提高巩固)

<!-- /code_chunk_output -->

---

## 一. 课程内容
1. 模拟介绍
---

## 二. 知识讲解

### 1. 1 模拟介绍

> 在信息学奥赛中，有一类问题是模拟一个游戏的对弈过程，或者模拟一项任务的操作过程，进行统计计分、判断输赢等。这些问题很难建立数学模型用特定算法解决，一般只能采用**模拟法**。用模拟法解题必须关注以下几个问题：

* 审题要仔细，游戏规则不能错；
* 分析要全面，各种特例不能漏；
* 编程要细心，测试运行要到位。

---

## 三. 经典例题

1. 蚱蜢

> 题目描述：
> 有一天，一只蚱蜢像往常一样在草地上愉快地跳跃，它发现了一条写满了英文字母的纸带。
> 蚱蜢只能在元音字母($A、E、I、O、U、Y$)间跳跃，一次跳跃所需的能力是两个位置的差。纸带所需的能力值为蚱蜢从纸带开头的前一个位置根据规则跳到纸带结尾的后一个位置的过程中能力的最大值。
> 蚱蜢想知道跳跃纸带所需的能力值(最小)是多少。如下图所示的纸带所需的能力值(最小)是 $4$。

![Markdown](http://thyrsi.com/t6/670/1550039371x2890202977.png)

> 输入格式：
> 一行一个字符串，字符串长不超过$100$。

> 输出格式：
> 一行一个整数，代表(最小)能力值。

样例输入 | 样例输出
------------ | ------------
ABABBBACFEYUKOTT </br>| 4


> 题目思路：
> 从头到尾枚举纸带的每一个字母，按照规则模拟蚱蜢在元音字母之间跳跃的过程，记录所需能力值的最大值。

2. 遭遇战

> 小林和小华在一个$n×n$的矩形方格里玩游戏，矩形左上角为$(0，0)$，右下角为$(n-1，n-1)$。两人同时进入地图的随机位置，并以相同速度进行走位。为了隐蔽性，两人都不会再走自己走过的格子。如果两人向某一方向前进，那么他们会跑到不能跑为止，当不能跑的时候，小林会向右转，小华则会向左转，如果不能跑，则不再动。现在已知两人进入地图的初始位置和方向，请算出两人遭遇的位置。

> 输入格式：
> 第一行一个正整数$t$，表示测试数据组数。
> 每组数据第一行包含一个正整数$n$。
> 第二行包含三个正整数$x,y,d$，表示小林的初始位置和一开始跑的方向。其中$d=0,1,2,3$分别代表方向东，南，西，北。
> 第三行与第二行格式一样，但描述的是小华。
> $n \leq 1000$

> 输出格式：
> 对于每组数据，若会遭遇，则包含两个整数，表示他们第一次相遇格子的坐标，否则输出$-1$。

样例输入 | 样例输出
------------ | ------------
2 </br>2</br>0 0 0</br>0 1 2</br>4</br>0 1 0</br>3 2 0</br>| -1</br> 1 3

> 题目思路：设置两个布尔型数组，分别记录模拟每个人走过的格子。如果两人没有相遇并且还可以跑，就让他们按照规则一直跑下去。


3. 乒乓球

> 国际乒联立志推行一系列改革，以推动乒乓球运动在全球的普及。其中$11$分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白$11$分制和$21$分制对选手的不同影响。在开展研究之前，他首先需要对自己多年比赛的统计数据进行一些分析，所以需要一些帮忙。
> 华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在$11$分制和$21$分制下，双方的比赛结果(截至记录末尾)。
> 比如，现在有这么一份记录，(其中$W$表示华华获得一分，$L$表示华华对手获得一分)：
>$WWWWWWWWWWWWWWWWWWWWWWLW$。
>在 11 分制下，此时比赛的结果是华华第一局$11$比$0$获胜，第二局$11$比$0$获胜，正在进行第三局，当前比分$1$比$1$。而在$21$分制下，此时比赛结果是华华第一局$21$比$0$获胜，正在进行第二局，比分$2$比$1$。如果一局比赛刚开始，则此时比分为$0$比$0$。
本题就是要对于一系列比赛信息的输入($WL$

> 输入格式：
> 输入文件包含若干行字符串(每行至多$20$个字母)，字符串由大写的 $W$、$L$ 和 $E$ 组成。其中$E$表示比赛信息结束，程序应该忽略$E$之后的所有内容。

> 输出格式：
> 输出由两部分组成，每部分有若干行，每一行对应一局比赛的比分(按比赛信息输入顺序)。
其中第一部分是$11$分制下的结果，第二部分是$21$分制下的结果，两部分之间由一个空行分隔。


样例输入 | 样例输出
------------ | ------------
WWWWWWWWWWWWWWWWWWWW</br>WWLWE | 11∶0</br>11∶0</br>1∶1</br></br>21∶0</br>2∶1</br>


> 题目思路：读入字符串，分别按照 11 分制和 21 分制下的规则模拟比赛进行计分输出。


---

## 四. 提高巩固

1. 计数问题

> 试计算在区间$1$到$n$的所有整数中，数字$x$共出现了多少次？例如，在$1$到$11$中，即在$1,2,3,4,5,6,7,8,9,10,11$中，数字$1$出现了$4$次。

> 输入格式：
> 一行两个整数$n,x$。
> $0 \leq x \leq 9$
> $n \leq 10^5$

> 输出格式：
> 一行一个整数表示数字$x$的出现次数。

样例输入 | 样例输出
------------ | ------------
11 1| 4

2. Cantor表

> 现代数学的著名证明之一是Georg Cantor证明了有理数是可枚举的。他是用下面这一张表来证明这一命题的：
> $\frac{1}{1}$, $\frac{1}{2}$, $\frac{1}{3}$, $\frac{1}{4}$, $\frac{1}{5}$, ...
> $\frac{2}{1}$, $\frac{2}{2}$, $\frac{2}{3}$, $\frac{2}{4}$, ...
> $\frac{3}{1}$, $\frac{3}{2}$, $\frac{3}{3}$, ...
> $\frac{4}{1}$, $\frac{4}{2}$, ...
> $\frac{5}{1}$, ...
> ...
> 我们以$z$字形给上表的每一项编号。第一项是$\frac{1}{1}$，然后是，$\frac{1}{2}$，$\frac{2}{1}$，$\frac{3}{1}$，$\frac{2}{2}$…

> 输入格式：
> 一行一个整数$n$，表示输出表中第$n$项

> 输出格式：
> 以分数形式输出表中第$n$项。

样例输入 | 样例输出
------------ | ------------
7| 1/4

3. 火星人

> 人类终于登上了火星的土地并且见到了神秘的火星人。人类和火星人都无法理解对方的语言，但是我们的科学家发明了一种用数字交流的方法。这种交流方法是这样的，首先，火星人把一个非常大的数字告诉人类科学家，科学家破解这个数字的含义后，再把一个很小的数字加到这个大数上面，把结果告诉火星人，作为人类的回答。
> 火星人用一种非常简单的方式来表示数字――掰手指。火星人只有一只手，但这只手上有成千上万的手指，这些手指排成一列，分别编号为$1,2,3...$火星人的任意两根手指都能随意交换位置，他们就是通过这方法计数的。
> 一个火星人用一个人类的手演示了如何用手指计数。如果把五根手指――拇指、食指、中指、无名指和小指分别编号为$1,2,3,4$和$5$，当它们按正常顺序排列时，形成了$5$位数$12345$，当你交换无名指和小指的位置时，会形成55位数$12354$，当你把五个手指的顺序完全颠倒时，会形成$54321$，在所有能够形成的$120$个$5$位数中，$12345$最小，它表示$1$；$12354$第二小，它表示$2$；$54321$最大，它表示$120$。下表展示了只有$3$根手指时能够形成的$6$个$3$位数和它们代表的数字：
> 三进制数：
> $123, 132, 213, 231, 312, 321$ 分别代表$1,2,3,4,5,6$
>现在你有幸成为了第一个和火星人交流的地球人。一个火星人会让你看他的手指，科学家会告诉你要加上去的很小的数。你的任务是，把火星人用手指表示的数与科学家告诉你的数相加，并根据相加的结果改变火星人手指的排列顺序。输入数据保证这个结果不会超出火星人手指能表示的范围。

> 输入格式：
> 第一行一个整数$n$，表示火星人手指的数目$n$
> 第二行一个正整数$m$，表示要加上去的小整数。
> 第三行是一个$n$的排列，表示火星人手指的排列。
> $n \leq 100000$

> 输出格式：
> $n$个整数，表示改变后火星人手指的排列顺序。

样例输入 | 样例输出
------------ | ------------
5 </br> 3 </br> 1 2 3 4 5| 1 2 4 5 3